<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>고려인 동포 생활 실태 및 정착 지원 대시보드</title>
    <!-- 폰트 및 라이브러리 로드 -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <style>
        :root {
            --bg-color: #f4f6f9;
            --card-bg: #ffffff;
            --text-color: #333333;
            --text-secondary: #666666;
            --primary-color: #3498db;
            --accent-color: #e74c3c;
            --border-color: #e0e0e0;
            --sidebar-bg: #2c3e50;
            --sidebar-text: #ecf0f1;
            --chart-grid: #e0e0e0;
        }

        [data-theme="dark"] {
            --bg-color: #1a1a2e;
            --card-bg: #16213e;
            --text-color: #e94560;
            --text-color: #ecf0f1;
            --text-secondary: #b0b0b0;
            --primary-color: #0f3460;
            --primary-color: #5334db; /* Adjusted for visibility */
            --accent-color: #e94560;
            --border-color: #2a2a40;
            --sidebar-bg: #0f3460;
            --sidebar-text: #ffffff;
            --chart-grid: #444;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Noto Sans KR', sans-serif; background-color: var(--bg-color); color: var(--text-color); transition: background 0.3s, color 0.3s; display: flex; height: 100vh; overflow: hidden; }

        /* 사이드바 */
        .sidebar { width: 250px; background-color: var(--sidebar-bg); color: var(--sidebar-text); display: flex; flex-direction: column; padding: 20px; transition: 0.3s; overflow-y: auto; }
        .sidebar h2 { font-size: 1.2rem; margin-bottom: 30px; text-align: center; border-bottom: 1px solid rgba(255,255,255,0.2); padding-bottom: 10px; }
        .nav-item { padding: 12px 15px; cursor: pointer; border-radius: 5px; margin-bottom: 5px; transition: 0.2s; color: rgba(255,255,255,0.7); text-decoration: none; display: block; }
        .nav-item:hover, .nav-item.active { background-color: var(--accent-color); color: white; }

        /* 메인 컨텐츠 */
        .main-content { flex: 1; padding: 30px; overflow-y: auto; position: relative; }
        
        /* 헤더 & 다크모드 토글 */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .toggle-switch { position: relative; display: inline-block; width: 60px; height: 34px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--accent-color); }
        input:checked + .slider:before { transform: translateX(26px); }

        /* 카드 레이아웃 */
        .grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; margin-bottom: 40px; }
        .card { background-color: var(--card-bg); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border: 1px solid var(--border-color); transition: transform 0.2s; }
        .card:hover { transform: translateY(-5px); }
        .card h3 { border-bottom: 2px solid var(--accent-color); padding-bottom: 10px; margin-bottom: 15px; font-size: 1.3rem; }
        
        /* 텍스트 스타일 */
        .description-text { font-size: 0.95rem; line-height: 1.7; color: var(--text-secondary); text-align: justify; margin-top: 15px; max-height: 300px; overflow-y: auto; padding-right: 10px; }
        
        /* 테이블 스타일 */
        table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 0.9rem; }
        th, td { padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color); }
        th { background-color: rgba(0,0,0,0.05); font-weight: 600; }
        [data-theme="dark"] th { background-color: rgba(255,255,255,0.1); }

        /* 탭 인터페이스 */
        .tab-container { margin-top: 20px; }
        .tab-buttons { display: flex; border-bottom: 1px solid var(--border-color); }
        .tab-btn { padding: 10px 20px; background: none; border: none; color: var(--text-secondary); cursor: pointer; font-size: 1rem; }
        .tab-btn.active { border-bottom: 2px solid var(--accent-color); color: var(--text-color); font-weight: bold; }
        .tab-content { display: none; padding: 20px 0; animation: fadeIn 0.5s; }
        .tab-content.active { display: block; }

        /* 아코디언 */
        .accordion { margin-top: 15px; }
        .accordion-item { border-bottom: 1px solid var(--border-color); }
        .accordion-header { padding: 15px; cursor: pointer; font-weight: bold; display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.02); }
        .accordion-header:hover { background: rgba(0,0,0,0.05); }
        .accordion-body { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; padding: 0 15px; color: var(--text-secondary); }
        .accordion-body.open { padding: 15px; max-height: 500px; }

        /* 차트 컨테이너 */
        .chart-container { position: relative; height: 300px; width: 100%; margin-top: 20px; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* 스크롤바 커스텀 */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-color); }
        ::-webkit-scrollbar-thumb { background: #888; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }
    </style>
</head>
<body>

    <!-- 사이드바 -->
    <nav class="sidebar">
        <h2>KORYO-IN INSIGHT</h2>
        <a href="#section1" class="nav-item active" onclick="navigate('section1')">1. 개요 및 인구 현황</a>
        <a href="#section2" class="nav-item" onclick="navigate('section2')">2. 법적 지위와 주거</a>
        <a href="#section3" class="nav-item" onclick="navigate('section3')">3. 경제 및 교육 실태</a>
        <a href="#section4" class="nav-item" onclick="navigate('section4')">4. 건강과 사회적 관계</a>
        <a href="#section5" class="nav-item" onclick="navigate('section5')">5. 해외 사례 및 법률</a>
        <a href="#section6" class="nav-item" onclick="navigate('section6')">6. 정책 제언 및 결론</a>
    </nav>

    <!-- 메인 컨텐츠 -->
    <main class="main-content">
        <div class="header">
            <h1>고려인 동포 생활 실태 및 정착 지원 대시보드</h1>
            <label class="toggle-switch">
                <input type="checkbox" id="theme-toggle">
                <span class="slider"></span>
            </label>
        </div>

        <!-- 섹션 1: 개요 및 인구 -->
        <div id="section1" class="section">
            <div class="grid-container">
                <div class="card">
                    <h3>연구 배경 및 정의 (역사와 유입)</h3>
                    <div class="description-text">
                        본 연구는 경기도와 서울에 거주하는 고려인 동포들의 생활 실태를 다각도로 분석하여 이들의 안정적인 국내 정착을 돕기 위해 수행되었습니다. 고려인은 1860년대 연해주 이주부터 1937년 중앙아시아 강제 이주를 거쳐 형성된 한민족 혈통의 동포 집단입니다. 법적으로는 1860년부터 1945년 8월 15일까지 러시아 및 구소련 지역으로 이주한 자 및 그 직계비속을 의미합니다.<br><br>
                        최근 우즈베키스탄, 러시아, 카자흐스탄 등지에서 한국으로 향하는 사례가 급격히 늘고 있습니다. 1990년대 소련 해체 이후 체제 변환기의 혼란을 피하기 위함이었으나, 2007년 방문취업제(H-2) 도입 이후에는 단순 노무 인력을 중심으로 유입이 가속화되었습니다. 특히 경기도는 전국 최다 고려인 밀집 지역으로, 안산시 등을 중심으로 게토화되는 경향을 보입니다. 이들이 단순한 외국인 노동자가 아닌 우리 동포로서 사회에 통합될 수 있도록 정밀한 실태 파악과 정책적 지원이 시급한 시점입니다.
                    </div>
                </div>
                <div class="card">
                    <h3>연도별 고려인 유입 추이 (2012-2019)</h3>
                    <div class="chart-container">
                        <canvas id="populationChart"></canvas>
                    </div>
                    <div class="description-text">
                        2012년 약 17,652명에 불과했던 국내 거소 신고 고려인 수는 2019년 74,111명으로 급증했습니다. 이는 매년 가파른 상승세를 보여주며, 전체 외국국적동포 내 비율도 3.3%에서 8.4%로 확대되었습니다. 안산, 화성, 평택 등 경기 남부 지역에 집중되어 있습니다.
                    </div>
                </div>
            </div>
        </div>

        <!-- 섹션 2: 법적 지위와 주거 -->
        <div id="section2" class="section" style="display:none;">
            <div class="grid-container">
                <div class="card">
                    <h3>경기도 vs 일반 주민 주거 비용 비교</h3>
                    <div class="chart-container">
                        <canvas id="housingChart"></canvas>
                    </div>
                    <div class="description-text">
                        고려인 동포의 주거 환경은 매우 취약합니다. 응답자의 92.5%가 월세(보증금 포함)에 거주하며, 자가 소유 비율은 1.3%에 불과합니다. 특히 주목할 점은 '고비용 저효율' 구조입니다. 경기도 평균 보증금이 약 2,900만 원인 데 비해 고려인은 431만 원으로 매우 낮지만, 월세 부담은 43만 원으로 경기도 평균(33만 원)보다 오히려 높습니다. 이는 목돈이 없어 열악한 월세방을 전전할 수밖에 없는 빈곤의 악순환을 보여줍니다. 주거지 선택 시 직장이나 친척 근처를 선호하여 특정 지역 밀집 현상이 심화되고 있습니다.
                    </div>
                </div>
                <div class="card">
                    <h3>지자체별 지원 조례 현황</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>지자체</th>
                                <th>제정년도</th>
                                <th>주요 내용</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>광주광역시</td>
                                <td>2013</td>
                                <td>거주지 안정, 교육 및 인권 옹호</td>
                            </tr>
                            <tr>
                                <td>경기도</td>
                                <td>2016</td>
                                <td>한국어 교육, 보건의료 지원, 문화 행사</td>
                            </tr>
                            <tr>
                                <td>안산시</td>
                                <td>2018</td>
                                <td>지원위원회 설치 및 민간 위탁 운영</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="description-text">
                        중앙 정부는 '고려인동포법'을 통해 체류 자격 취득을 지원하고 있으며, 최근 시행령 개정으로 4세 동포까지 재외동포로 인정하는 성과가 있었습니다. 지자체 중에서는 광주광역시가 최초로 조례를 제정했고, 경기도와 안산시가 뒤를 이어 교육과 보건 지원을 명문화했습니다. 그러나 여전히 한국 국적 취득자(귀화자)에 대한 지원 근거가 부족하여 조례 적용 대상을 확대해야 한다는 목소리가 높습니다.
                    </div>
                </div>
            </div>
        </div>

        <!-- 섹션 3: 경제 및 교육 -->
        <div id="section3" class="section" style="display:none;">
            <div class="grid-container">
                <div class="card">
                    <h3>가구 소득 분포 및 경제 실태</h3>
                    <div class="chart-container">
                        <canvas id="incomeChart"></canvas>
                    </div>
                    <div class="description-text">
                        고려인 동포의 57.6%는 공장이나 건설 현장 등 단순 노무직에 종사합니다. 가구당 월평균 소득은 316만 원 수준이나, 맞벌이가 필수적이며 식비와 높은 월세로 인해 실질 가처분 소득은 매우 낮습니다. 조사 결과 지난 1년간 돈이 없어 병원에 가지 못한 경험이 28.9%에 달하며, 공과금을 체납한 경험도 25%에 이릅니다. 이는 고용 허가제가 아닌 방문취업 비자 등으로 인해 고용 안정성이 떨어지고 직장 보험 가입률이 낮은 구조적 문제에서 기인합니다. 빈곤의 늪에서 빠져나오기 위한 직업 훈련과 양질의 일자리 매칭이 필요합니다.
                    </div>
                </div>
                <div class="card">
                    <h3>자녀 양육 및 교육의 어려움 (중복 응답)</h3>
                    <div class="chart-container">
                        <canvas id="educationChart"></canvas>
                    </div>
                    <div class="description-text">
                        자녀가 있는 가구의 72.5%가 자녀 양육에 어려움을 호소합니다. 가장 큰 원인은 경제적 부담(37.9%)이지만, 언어 장벽으로 인한 부모-자녀 간 대화 단절(10.2%)과 학업 부적응 문제도 심각합니다. 가정 내에서 92.5%가 러시아어를 사용하다 보니 자녀들의 한국어 습득이 늦어지고, 이는 학교에서의 따돌림이나 진학 포기로 이어집니다. 부모들은 가장 시급한 지원으로 '한국어 교육(79.9%)'을 꼽았습니다. 단순한 언어 교육을 넘어 이중 언어 인재로 키우기 위한 멘토링과 진로 지도 프로그램이 절실합니다.
                    </div>
                </div>
            </div>
        </div>

        <!-- 섹션 4: 건강과 사회 -->
        <div id="section4" class="section" style="display:none;">
            <div class="grid-container">
                <div class="card">
                    <h3>의료 서비스 미이용 사유</h3>
                    <div class="chart-container">
                        <canvas id="healthChart"></canvas>
                    </div>
                    <div class="description-text">
                        고려인 동포의 건강권은 심각하게 위협받고 있습니다. 의료 기관을 제때 이용하지 못하는 가장 큰 이유는 '의사소통의 어려움(21.0%)'과 '운영 시간 부적절(19.4%)', 그리고 '비싼 병원비(16.1%)' 순입니다. 특히 최근 건강보험 제도가 세대별 합산이 아닌 개인별 부과로 바뀌면서 저소득층의 부담이 가중되었습니다. 정신적으로는 강제 이주와 탈북, 이주 과정에서의 트라우마로 인해 우울감과 PTSD를 겪는 비율이 높습니다. 병원 내 통번역 서비스 배치와 야간 진료 지원, 그리고 심리 상담 지원 체계 구축이 시급합니다.
                    </div>
                </div>
                <div class="card">
                    <h3>지역 주민과의 갈등 요인 (Radar Chart)</h3>
                    <div class="chart-container">
                        <canvas id="socialRadarChart"></canvas>
                    </div>
                    <div class="description-text">
                        고려인 동포들은 한국인 주민과 물리적으로는 가깝지만 심리적으로는 고립되어 있습니다. 주요 갈등 요인으로는 '언어 및 의사소통 문제'가 가장 크고, '편견과 차별', '쓰레기 분리배출 등 생활 방식 차이'가 뒤를 잇습니다. 한국인 친구가 있다는 응답은 12.6%에 불과합니다. 그러나 안산시 선부동 사례처럼 지역 축제나 반상회 참여를 유도하여 서로의 문화를 이해하는 계기를 만들면 갈등이 현저히 줄어드는 모습도 보입니다. 상호 문화 교류 프로그램과 선주민 대상의 다문화 감수성 교육이 병행되어야 합니다.
                    </div>
                </div>
            </div>
        </div>

        <!-- 섹션 5: 해외 사례 및 법률 -->
        <div id="section5" class="section" style="display:none;">
            <div class="card">
                <h3>해외 국가의 동포 정착 사례 비교 (독일 vs 일본)</h3>
                <div class="tab-container">
                    <div class="tab-buttons">
                        <button class="tab-btn active" onclick="openTab(event, 'Germany')">독일 (역사적 책임)</button>
                        <button class="tab-btn" onclick="openTab(event, 'Japan')">일본 (지역 공생)</button>
                    </div>
                    <div id="Germany" class="tab-content active">
                        <p><strong>독일의 후기재이주자 정책:</strong><br>
                        독일은 구소련 지역 동포를 '재이주자'로 인정하고, 전쟁의 아픔을 공유하는 역사적 책임 의식 하에 강력한 정착 지원을 제공합니다. 입국 즉시 시민권을 부여하거나, '직업 자격 인정법'을 통해 해외에서 취득한 기술 자격을 독일 내에서도 인정받을 수 있도록 법제화했습니다. 또한 주거 보조금과 집중적인 독일어 교육을 통해 이들이 사회의 짐이 아닌 자산이 되도록 돕고 있습니다.</p>
                    </div>
                    <div id="Japan" class="tab-content">
                        <p><strong>일본의 일계인(Nikkeijin) 지원:</strong><br>
                        일본은 노동력 부족 해결을 위해 남미 출신 일계인을 받아들였습니다. 중앙 정부보다는 지방 자치단체(예: 하마마쓰시)가 중심이 되어 '다문화 공생' 정책을 펼칩니다. 특히 '취학하지 않은 외국인 아동 제로 작전'을 통해 아동 교육 사각지대를 해소하고, 포르투갈어 등 다언어 행정 서비스를 제공하여 지역 사회 통합을 유도하고 있습니다.</p>
                    </div>
                </div>
                <div class="description-text">
                    해외 사례는 우리에게 시사하는 바가 큽니다. 독일처럼 역사적 부채 의식을 가지고 과감하게 법적 지위를 보장하거나, 일본처럼 지자체가 나서서 꼼꼼한 생활 밀착형 서비스를 제공해야 합니다. 고려인을 단순 인력이 아닌 저출산 시대의 인구 자산으로 보는 관점의 전환이 필요합니다.
                </div>
            </div>

            <div class="card" style="margin-top: 20px;">
                <h3>생활 법률 및 노무 상담 가이드 (아코디언)</h3>
                <div class="accordion">
                    <div class="accordion-item">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            임금 체불 시 대응 절차 <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="accordion-body">
                            1. 증거 수집(근로계약서, 통장 내역).<br>
                            2. 고용노동청 진정 제기.<br>
                            3. 체불 확정 후 소액체당금 청구 또는 보증보험 청구.<br>
                            * 5인 미만 사업장도 퇴직금 청구 가능.
                        </div>
                    </div>
                    <div class="accordion-item">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            주택 임대차 보호 (보증금 지키기) <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="accordion-body">
                            1. 이사 당일 전입신고 및 확정일자 받기 (대항력 확보).<br>
                            2. 계약 만료 전 갱신 거절 통지가 없으면 묵시적 갱신됨.<br>
                            3. 보증금 미반환 시 '임차권 등기 명령' 신청 후 이사.
                        </div>
                    </div>
                    <div class="accordion-item">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            교통사고 및 자동차 관련 주의 <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="accordion-body">
                            1. 타인 명의 차량(대포차) 구매 절대 금지 (형사 처벌 및 추방 사유).<br>
                            2. 책임보험 외 종합보험 가입 권장.<br>
                            3. 사고 시 즉시 정차 후 구호 조치 및 신고 (뺑소니 오해 방지).
                        </div>
                    </div>
                </div>
                <div class="description-text">
                    고려인 동포들은 언어 문제와 법률 지식 부족으로 부당한 대우를 받거나 범죄에 노출되기 쉽습니다. 임금 체불 시 노동청 진정 절차, 전세 보증금을 지키기 위한 확정일자 제도, 대포차 구매의 위험성 등을 매뉴얼화하여 교육해야 합니다. 이는 단순 민원 처리를 넘어 그들의 경제적 기반을 지키는 핵심적인 지원입니다.
                </div>
            </div>
        </div>

        <!-- 섹션 6: 정책 제언 -->
        <div id="section6" class="section" style="display:none;">
            <div class="grid-container">
                <div class="card">
                    <h3>향후 정책적 제언 및 실행 과제</h3>
                    <ul>
                        <li style="margin-bottom: 10px;"><strong>1. 사회권 보장:</strong> 영주권 요건 완화 및 건강보험 사각지대 해소.</li>
                        <li style="margin-bottom: 10px;"><strong>2. 가족 정주형 지원:</strong> 보육료 지원 및 청소년 공교육 진입 장벽 제거.</li>
                        <li style="margin-bottom: 10px;"><strong>3. 통합 지원 센터:</strong> 노무, 법률, 의료를 아우르는 원스톱 서비스 구축.</li>
                        <li style="margin-bottom: 10px;"><strong>4. 인식 개선:</strong> 역사적 동포로서의 지위 교육 및 상호 문화 교류 확대.</li>
                    </ul>
                    <div class="description-text">
                        고려인 동포 정책은 이제 '관리'에서 '통합'으로 나아가야 합니다. 단기 순환 인력이 아닌 우리 사회의 구성원으로 받아들이기 위해 법적 지위를 안정화하고, 특히 자녀 세대의 교육에 집중 투자해야 합니다. 경기도와 서울시는 민간 단체와의 협력을 통해 현장 중심의 서비스를 강화하고, 정부는 독립운동가 후손에 대한 예우 차원에서라도 포괄적인 지원 정책을 수립해야 합니다. 80년의 유랑을 끝내고 고국으로 돌아온 그들이 '따뜻한 이웃'으로 정착할 때, 우리 사회의 다양성과 포용성은 한 단계 더 성숙해질 것입니다.
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // 네비게이션 기능
        function navigate(sectionId) {
            document.querySelectorAll('.section').forEach(sec => sec.style.display = 'none');
            document.getElementById(sectionId).style.display = 'block';
            
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            document.querySelector(`[href="#${sectionId}"]`).classList.add('active');
        }

        // 다크모드 토글
        const toggleSwitch = document.getElementById('theme-toggle');
        toggleSwitch.addEventListener('change', function(e) {
            if(e.target.checked) {
                document.documentElement.setAttribute('data-theme', 'dark');
                updateChartTheme(true);
            } else {
                document.documentElement.setAttribute('data-theme', 'light');
                updateChartTheme(false);
            }
        });

        // 탭 기능
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
                tabcontent[i].classList.remove('active');
            }
            tablinks = document.getElementsByClassName("tab-btn");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            document.getElementById(tabName).classList.add('active');
            evt.currentTarget.className += " active";
        }

        // 아코디언 기능
        function toggleAccordion(element) {
            const body = element.nextElementSibling;
            body.classList.toggle('open');
            const icon = element.querySelector('i');
            icon.classList.toggle('fa-chevron-up');
            icon.classList.toggle('fa-chevron-down');
        }

        // 차트 초기화 함수
        let charts = {};

        function initCharts() {
            const commonOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { labels: { color: '#666' } } // 초기 컬러
                },
                scales: {
                    x: { ticks: { color: '#666' }, grid: { color: '#e0e0e0' } },
                    y: { ticks: { color: '#666' }, grid: { color: '#e0e0e0' } }
                }
            };

            // 1. 인구 증가 차트 (Bar/Line Mix)
            const ctxPop = document.getElementById('populationChart').getContext('2d');
            charts.population = new Chart(ctxPop, {
                type: 'line',
                data: {
                    labels: ['2012년', '2015년', '2018년', '2019년'],
                    datasets: [{
                        label: '고려인 수 (명)',
                        data: [17652, 32270, 70451, 74111],
                        backgroundColor: 'rgba(52, 152, 219, 0.2)',
                        borderColor: '#3498db',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: commonOptions
            });

            // 2. 주거 비용 차트 (Bar Group)
            const ctxHouse = document.getElementById('housingChart').getContext('2d');
            charts.housing = new Chart(ctxHouse, {
                type: 'bar',
                data: {
                    labels: ['보증금 (만원)', '월세 (만원)'],
                    datasets: [
                        {
                            label: '고려인',
                            data: [431, 43],
                            backgroundColor: '#e74c3c'
                        },
                        {
                            label: '경기도 평균',
                            data: [2918, 33],
                            backgroundColor: '#3498db'
                        }
                    ]
                },
                options: commonOptions
            });

            // 3. 소득 분포 (Pie)
            const ctxIncome = document.getElementById('incomeChart').getContext('2d');
            charts.income = new Chart(ctxIncome, {
                type: 'doughnut',
                data: {
                    labels: ['200만원 미만', '200~400만원', '400~500만원', '500만원 이상'],
                    datasets: [{
                        data: [13.5, 55.7, 18.3, 12.6],
                        backgroundColor: ['#e74c3c', '#f1c40f', '#3498db', '#2ecc71']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'right', labels: { color: '#666' } } }
                }
            });

            // 4. 교육/양육 어려움 (Horizontal Bar)
            const ctxEdu = document.getElementById('educationChart').getContext('2d');
            charts.education = new Chart(ctxEdu, {
                type: 'bar',
                indexAxis: 'y',
                data: {
                    labels: ['경제적 부담', '대화 단절', '학업/진로', '게임 중독'],
                    datasets: [{
                        label: '비율 (%)',
                        data: [37.9, 10.2, 5.7, 3.1],
                        backgroundColor: '#9b59b6'
                    }]
                },
                options: commonOptions
            });

            // 5. 의료 미이용 사유 (Bar)
            const ctxHealth = document.getElementById('healthChart').getContext('2d');
            charts.health = new Chart(ctxHealth, {
                type: 'bar',
                data: {
                    labels: ['의사소통 어려움', '운영 시간 부적절', '병원비 부담', '보험 자격 없음'],
                    datasets: [{
                        label: '비율 (%)',
                        data: [21.0, 19.4, 16.1, 6.5],
                        backgroundColor: '#e67e22'
                    }]
                },
                options: commonOptions
            });

            // 6. 사회 갈등 (Radar)
            const ctxSocial = document.getElementById('socialRadarChart').getContext('2d');
            charts.social = new Chart(ctxSocial, {
                type: 'radar',
                data: {
                    labels: ['언어 문제', '편견/차별', '주거 문제', '문화/생활습관'],
                    datasets: [{
                        label: '갈등 심각도 (5점 만점 환산)',
                        data: [1.8, 1.7, 1.5, 1.5],
                        fill: true,
                        backgroundColor: 'rgba(231, 76, 60, 0.2)',
                        borderColor: '#e74c3c',
                        pointBackgroundColor: '#e74c3c'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: '#e0e0e0' },
                            grid: { color: '#e0e0e0' },
                            pointLabels: { color: '#666' },
                            suggestedMin: 0,
                            suggestedMax: 2.5
                        }
                    },
                    plugins: { legend: { labels: { color: '#666' } } }
                }
            });
        }

        // 다크모드 차트 업데이트
        function updateChartTheme(isDark) {
            const textColor = isDark ? '#ecf0f1' : '#666666';
            const gridColor = isDark ? '#444' : '#e0e0e0';

            Object.values(charts).forEach(chart => {
                // Legend Color
                if (chart.options.plugins.legend) {
                    chart.options.plugins.legend.labels.color = textColor;
                }
                
                // Scales Color (Radar 제외)
                if (chart.options.scales.x) {
                    chart.options.scales.x.ticks.color = textColor;
                    chart.options.scales.x.grid.color = gridColor;
                }
                if (chart.options.scales.y) {
                    chart.options.scales.y.ticks.color = textColor;
                    chart.options.scales.y.grid.color = gridColor;
                }

                // Radar Scale
                if (chart.config.type === 'radar') {
                    chart.options.scales.r.pointLabels.color = textColor;
                    chart.options.scales.r.grid.color = gridColor;
                    chart.options.scales.r.angleLines.color = gridColor;
                }

                chart.update();
            });
        }

        // 초기 실행
        document.addEventListener('DOMContentLoaded', function() {
            initCharts();
            // 첫 화면만 표시
            navigate('section1');
        });

    </script>
</body>
</html>